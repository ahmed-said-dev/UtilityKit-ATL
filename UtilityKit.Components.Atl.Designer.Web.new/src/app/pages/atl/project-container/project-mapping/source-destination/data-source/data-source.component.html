<div class="d-flex flex-column justify-content-between h-100">
  <div class="flex-shrink-0 h-50px mh-50px h-lg-50px">
    <div
      class="d-flex justify-content-between align-items-center heading-gradient ps-4 mb-4 h-50px mh-50px"
    >
      <!--begin::Title-->
      <h4 class="page-heading fs-4 my-0">
        Data Sources
        <span class="ms-3 fs-7 text-muted"> (No Sources Connected) </span>
      </h4>
      <!--end::Title-->
      <!--begin::Toolbar-->
      <div class="card-toolbar">
        <a
          class="btn btn-flex btn-sm btn-outline btn-outline-primary bg-body fw-bold"
          data-kt-menu-trigger="click"
          data-kt-menu-placement="bottom-end"
          placement="left"
          ngbTooltip="Add New Source"
        >
          <i class="fa-solid fa-1x fa-plus me-2"></i>
          Add Source
        </a>
        <!--begin::Menu 3-->
        <div
          class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-800 menu-state-bg-light fw-semibold w-200px py-4"
          data-kt-menu="true"
        >
          <!--begin::Menu item-->
          <div class="menu-item">
            <a
              class="menu-link px-4 btn btn-sm btn-active-light text-hover-primary"
              (click)="openSchema()"
            >
              <span
                [inlineSVG]="
                  './assets/media/icons/duotune/source-types/gdb.svg'
                "
                class="svg-icon svg-icon-2x me-2"
              ></span>
              Geodatabase (.gdb)</a
            >
          </div>
          <!--end::Menu item-->
          <!--begin::Menu item-->
          <div class="menu-item">
            <a
              class="menu-link px-4 btn btn-sm btn-active-light text-hover-primary"
              (click)="openGDB()"
            >
              <span
                [inlineSVG]="
                  './assets/media/icons/duotune/source-types/xml.svg'
                "
                class="svg-icon svg-icon-2x me-2"
              ></span
              >Schema (XML)</a
            >
          </div>
          <!--end::Menu item-->
          <!--begin::Menu item-->
          <div class="menu-item">
            <a
              class="menu-link px-4 btn btn-sm btn-active-light text-hover-primary"
              (click)="openCAD()"
            >
              <span
                [inlineSVG]="
                  './assets/media/icons/duotune/source-types/cad.svg'
                "
                class="svg-icon svg-icon-2x me-2"
              ></span
              >CAD File</a
            >
          </div>
          <!--end::Menu item-->
          <!--begin::Menu item-->
          <div class="menu-item">
            <a
              class="menu-link px-4 btn btn-sm btn-active-light text-hover-primary"
              (click)="openShape()"
            >
              <span
                [inlineSVG]="
                  './assets/media/icons/duotune/source-types/shape.svg'
                "
                class="svg-icon svg-icon-2x me-2"
              ></span
              >Shape File</a
            >
          </div>
          <!--end::Menu item-->
          <!--begin::Menu item-->
          <div class="menu-item">
            <a
              class="menu-link px-4 btn btn-sm btn-active-light text-hover-primary"
              (click)="openOracle()"
            >
              <span
                [inlineSVG]="
                  './assets/media/icons/duotune/source-types/oracle.svg'
                "
                class="svg-icon svg-icon-2x me-2"
              ></span
              >Oracle DB</a
            >
          </div>
          <!--end::Menu item-->
          <!--begin::Menu item-->
          <div class="menu-item">
            <a
              class="menu-link px-4 btn btn-sm btn-active-light text-hover-primary"
              (click)="openSchema()"
            >
              <span
                [inlineSVG]="
                  './assets/media/icons/duotune/source-types/sql.svg'
                "
                class="svg-icon svg-icon-2x me-2"
              ></span
              >SQL DB</a
            >
          </div>
          <!--end::Menu item-->
        </div>
        <!--end::Menu 3-->
      </div>
      <!--end::Toolbar-->
    </div>
  </div>
  <div
    class="flex-grow-1 overflow-auto py-4 px-4"
    [ngClass]="schemaConnected ? 'd-none' : ''"
  >
    <div class="row">
      <div class="col-4 mb-3">
        <a
          (click)="openGDB()"
          class="btn btn-outline btn-outline-primary btn-sm btn-active-color-primary border border-primary border-hover-primary border-hover-2 btn-flex flex-column overflow-hidden h-xl-120px d-flex justify-content-center"
        >
          <!--begin::Icon-->
          <span
            [inlineSVG]="'./assets/media/icons/duotune/files/file-gdb.svg'"
            class="svg-icon svg-icon-primary svg-icon-4tx mb-3"
          ></span>

          <!--end::Icon-->

          <!--begin::Title-->
          <span class="fw-semibold"> Schema .XML </span>
          <!--end::Title-->
        </a>
      </div>
      <div class="col-4 mb-3">
        <a
          (click)="openSchema()"
          class="btn btn-outline btn-outline-primary btn-sm btn-active-color-primary border border-primary border-hover-primary border-hover-2 btn-flex flex-column overflow-hidden h-xl-120px d-flex justify-content-center"
        >
          <!--begin::Icon-->
          <span
            [inlineSVG]="'./assets/media/icons/duotune/files/file-gdb.svg'"
            class="svg-icon svg-icon-primary svg-icon-4tx mb-3"
          ></span>

          <!--end::Icon-->

          <!--begin::Title-->
          <span class="fw-semibold"> Geodatabase File </span>
          <!--end::Title-->
        </a>
      </div>
      <div class="col-4 mb-3">
        <a
          (click)="openShape()"
          class="btn btn-outline btn-outline-primary btn-sm btn-active-color-primary border border-primary border-hover-primary border-hover-2 btn-flex flex-column overflow-hidden h-xl-120px d-flex justify-content-center"
        >
          <!--begin::Icon-->
          <span
            [inlineSVG]="'./assets/media/icons/duotune/files/file-shape.svg'"
            class="svg-icon svg-icon-primary svg-icon-4tx mb-3"
          ></span>

          <!--end::Icon-->

          <!--begin::Title-->
          <span class="fw-semibold"> Shape File </span>
          <!--end::Title-->
        </a>
      </div>
      <div class="col-4">
        <a
          (click)="openCAD()"
          class="btn btn-outline btn-outline-primary btn-sm btn-active-color-primary border border-primary border-hover-primary border-hover-2 btn-flex flex-column overflow-hidden h-xl-120px d-flex justify-content-center"
        >
          <!--begin::Icon-->
          <span
            [inlineSVG]="'./assets/media/icons/duotune/files/file-cad.svg'"
            class="svg-icon svg-icon-primary svg-icon-4tx mb-3"
          ></span>

          <!--end::Icon-->

          <!--begin::Title-->
          <span class="fw-semibold"> CAD File </span>
          <!--end::Title-->
        </a>
      </div>
      <div class="col-4">
        <a
          (click)="openOracle()"
          class="btn btn-outline btn-outline-primary btn-sm btn-active-color-primary border border-primary border-hover-primary border-hover-2 btn-flex flex-column overflow-hidden h-xl-120px d-flex justify-content-center"
        >
          <!--begin::Icon-->
          <span
            [inlineSVG]="'./assets/media/icons/duotune/files/file-oracle.svg'"
            class="svg-icon svg-icon-primary svg-icon-4tx mb-3"
          ></span>

          <!--end::Icon-->

          <!--begin::Title-->
          <span class="fw-semibold"> Oracle File </span>
          <!--end::Title-->
        </a>
      </div>
      <div class="col-4">
        <a
          (click)="openSQL()"
          class="btn btn-outline btn-outline-primary btn-sm btn-active-color-primary border border-primary border-hover-primary border-hover-2 btn-flex flex-column overflow-hidden h-xl-120px d-flex justify-content-center"
        >
          <!--begin::Icon-->
          <span
            [inlineSVG]="'./assets/media/icons/duotune/files/file-sql.svg'"
            class="svg-icon svg-icon-primary svg-icon-4tx mb-3"
          ></span>

          <!--end::Icon-->

          <!--begin::Title-->
          <span class="fw-semibold"> SQL File </span>
          <!--end::Title-->
        </a>
      </div>
    </div>
  </div>
  <div
    class="flex-grow-1 overflow-auto py-4"
    [ngClass]="schemaConnected ? '' : 'd-none'"
  >
    <div
      class="card card-bordered mb-4"
      *ngFor="let Schema of addSchemaToATLResponce"
    >
      <div class="card-body p-6">
        <div class="d-flex flex-wrap align-items-center flex-sm-nowrap">
          <div class="flex-grow-1">
            <div
              class="d-flex justify-content-between align-items-center align-content-center flex-wrap"
            >
              <div
                class="d-flex flex-wrap align-items-start flex-sm-nowrap flex-column grow-1"
              >
                <h4 class="mb-4 text-dark fs-5">
                  {{ Schema.dataSource.name }}
                </h4>

                <div class="d-flex align-items-center mb-2">
                  <i class="fa-solid fa-table-list me-4"></i>

                  <div class="text-gray-800 fs-6">
                    No. of Tables
                    <span class="fw-bold text-primary"
                      >({{ Schema.dataSource.tablesCount }})</span
                    >
                  </div>
                </div>
                <div class="d-flex align-items-center">
                  <span
                    [inlineSVG]="
                      './assets/media/icons//duotune/aside/featureclass.svg'
                    "
                    class="svg-icon svg-icon-2 me-3"
                  ></span>
                  <div class="text-gray-800 fs-6">
                    No. of Feature Classes
                    <span class="fw-bold text-primary"
                      >({{ Schema.dataSource.featureClassesCount }})</span
                    >
                  </div>
                </div>
              </div>
              <div class="d-flex">
                <a
                  class="btn btn-icon btn-sm btn-bg-body btn-outline btn-active-color-primary me-2"
                  placement="left"
                  ngbTooltip="View Catalog"
                  (click)="
                    openViewCatalog(Schema.dataSource.dataSourceSchemaJson)
                  "
                >
                  <span
                    [inlineSVG]="'./assets/media/icons/duotune/text/txt009.svg'"
                    class="svg-icon svg-icon-2"
                  ></span>
                </a>

                <a
                  class="btn btn-icon btn-sm btn-bg-body btn-outline btn-active-color-primary"
                  placement="left"
                  ngbTooltip="Disconnect"
                  (click)="
                    handleDisconnectDataSource(
                      Schema.dataSource.id,
                      Schema.dataSource.name,
                      Schema.hasMapRecord
                    )
                  "
                >
                  <span
                    [inlineSVG]="
                      './assets/media/icons/duotune/coding/cod008.svg'
                    "
                    class="svg-icon svg-icon-2"
                  ></span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- childrens -->
<app-schema-data-source
  #schemaDataSource
  (connectSchema)="handleSchemaConnect()"
></app-schema-data-source>

<app-view-catalog #viewCatalog></app-view-catalog>
